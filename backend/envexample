# Database Configuration - Using Transaction Pooler port 6543 for Render
# IMPORTANT: If you get "Can't reach database server" errors, try the version WITHOUT connection_limit/pool_timeout first

# Option 1: Simple version (try this first if having connection issues)
DATABASE_URL="postgresql://postgres.sekplvmoorurpxwpxuuv:Showsewa12xyz@aws-1-us-east-2.pooler.supabase.com:6543/postgres?pgbouncer=true&sslmode=require"

# Option 2: With connection pool parameters (may not work with all PostgreSQL versions)
# DATABASE_URL="postgresql://postgres.sekplvmoorurpxwpxuuv:Showsewa12xyz@aws-1-us-east-2.pooler.supabase.com:6543/postgres?pgbouncer=true&sslmode=require&connection_limit=5&pool_timeout=20"

# Direct connection for migrations (port 5432)
DIRECT_URL="postgresql://postgres.sekplvmoorurpxwpxuuv:Showsewa12xyz@aws-1-us-east-2.pooler.supabase.com:5432/postgres?sslmode=require"

# Supabase Configuration
SUPABASE_URL="https://sekplvmoorurpxwpxuuv.supabase.co"
SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNla3Bsdm1vb3J1cnB4d3B4dXV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2ODAwMDgsImV4cCI6MjA3NjI1NjAwOH0.DZktFf0G6xzQJbbU1-PGmkAGVaMPWp__WeX2x-m-FpI"

# Server Configuration
PORT=5000
NODE_ENV=production

# JWT Configuration
# IMPORTANT: This is a secure random secret. Keep it secret and never commit to git!
# If you change this, all existing JWT tokens will be invalidated (users will need to log in again)
JWT_SECRET="a3db785b3c6ac108df81af16898feafef0ac7204123e4df0edb679b8514c159783c6c66f7fe14200ac658c21e0dc8de5dbfa6ad8b2b9a95e70512a5f41fe638f"

# Email Configuration
# Choose email provider: 'smtp' (development) or 'resend' (production - recommended)
EMAIL_PROVIDER=resend

# Production Email Service - Resend (Recommended for scalability)
# Sign up at https://resend.com (free tier: 3,000 emails/month)
# Get API key from https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# From email address (should be verified in Resend dashboard)
FROM_EMAIL=noreply@showsewa.com
FROM_NAME=ShowSewa

# Development Email Service - SMTP (Gmail/Google Workspace)
# Only used if EMAIL_PROVIDER=smtp or RESEND_API_KEY is not set
# For Google Workspace: Use your business email (e.g., noreply@showsewa.com)
# For regular Gmail: Use your Gmail address (e.g., showsewa@gmail.com)
#
# IMPORTANT: You MUST use an App Password, not your regular password
# Steps to generate App Password for Google Workspace:
# 1. Go to Google Admin Console (admin.google.com) or your Google Account
# 2. Enable 2-Step Verification on the account
# 3. Go to Security â†’ App Passwords
# 4. Select "Mail" and generate a new 16-character password
# 5. Use that password below (remove spaces if any)
SMTP_USER=noreply@showsewa.com
SMTP_PASS=your-16-character-app-password

# Alternative: Separate env vars for SMTP
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# GOOGLE_WORKSPACE_EMAIL=noreply@showsewa.com
# GOOGLE_APP_PASSWORD=your-16-character-app-password

# Redis Configuration (for OTP storage and caching)
# Option 1: Use REDIS_URL (recommended for Upstash, Render, Railway)
# IMPORTANT: Copy ONLY the URL, no command-line flags like --tls -u
# For Upstash: Use rediss:// (with double 's') for TLS
# Example for Upstash:
REDIS_URL="rediss://default:your-password@your-endpoint.upstash.io:6379"
# 
# How to get Upstash URL:
# 1. Go to https://console.upstash.com
# 2. Select your Redis database
# 3. Copy the "Redis URL" that starts with rediss://
# 4. Paste it here (no extra characters, no --tls -u prefixes)

# Option 2: Use separate connection parameters (for local Redis or custom setup)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password

# Payment Gateway Configuration
# For Nepal: Khalti and eSewa

# Khalti Configuration
# Sign up at: https://khalti.com
# Get API keys from: https://khalti.com/merchant/dashboard
KHALTI_SECRET_KEY="your-khalti-secret-key"
KHALTI_PUBLIC_KEY="your-khalti-public-key"  # Optional, for frontend if needed

# eSewa Configuration
# Sign up at: https://esewa.com.np
# Get merchant credentials from: https://merchant.esewa.com.np
ESEWA_MERCHANT_ID="your-esewa-merchant-id"
ESEWA_SECRET="your-esewa-secret"  # Optional, if required by eSewa API

# Frontend URL (for payment callbacks)
FRONTEND_URL="https://www.showsewa.com"
# Production domain: www.showsewa.com
